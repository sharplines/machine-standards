# Machine-readable equivalent of the HTML living standard
# This file is hosted and maintained at
#   https://github.com/sharplines/machine-standards
#
namespace: http://www.w3.org/1999/xhtml

version:
  ref: https://html.spec.whatwg.org
  pubdate: 10 May 2022

mixin-value-types:
  # base types
  text: &text
    type: string

  boolean: &boolean
    type: boolean

  integer: &integer
    type: integer
    signed: true

  non-negative-integer: &non-negative-integer
    type: integer
    signed: false

  floating-point-number: &floating-point-number
    type: real

  list-of-floating-point-numbers: &list-of-floating-point-numbers
    type: list
    separator: ","
    member-values: *floating-point-number

  # compound types
  set-of-space-separated-tokens: &set-of-space-separated-tokens
    type: list
    separator: " "
    ordered: true
    unique: false
    member-values: *text

  unordered-set-of-unique-space-separated-tokens: &unordered-set-of-unique-space-separated-tokens
    type: list
    separator: " "
    ordered: false
    unique: true
    member-values: *text

  ordered-set-of-unique-space-separated-tokens: &ordered-set-of-unique-space-separated-tokens
    type: list
    separator: " "
    ordered: true
    unique: true
    member-values: *text

  set-of-comma-separated-tokens: &set-of-comma-separated-tokens
    type: list
    separator: ","
    member-values: *text

  # complex types
  autofill-detail-token-list: &autofill-detail-token
    << : *set-of-space-separated-tokens
    member-values:
      - "/^section-/"
      - [shipping, billing]
      - [name, honorific-prefix, given-name, additional-name, family-name,
          honorific-suffix, nickname, username, new-password, current-password,
          one-time-code, organization-title, organization, street-address,
          address-line1, address-line2, address-line3, address-level4,
          address-level3, address-level2, address-level1, country, country-name,
          postal-code, cc-name, cc-given-name, cc-additional-name, cc-family-name,
          cc-number, cc-exp, cc-exp-month, cc-exp-year, cc-csc, cc-type,
          transaction-currency, transaction-amount, language, bday, bday-day,
          bday-month, bday-year, sex, url, photo]
      - [home, work, mobile, pager]
      - [tel, tel-country-code, tel-national, tel-area-code, tel-local,
          tel-local-prefix, tel-local-suffix, tel-extension, email, impp]

  BCP47-language-tag: &BCP47-language-tag [
    "ar-SA", "bn-BD", "bn-IN", "cs-CZ", "da-DK", "de-AT", "de-CH", "de-DE",
    "el-GR", "en-AU", "en-CA", "en-GB", "en-IE", "en-IN", "en-NZ", "en-US",
    "en-ZA", "es-AR", "es-CL", "es-CO", "es-ES", "es-MX", "es-US", "fi-FI",
    "fr-BE", "fr-CA", "fr-CH", "fr-FR", "he-IL", "hi-IN", "hu-HU", "id-ID",
    "it-CH", "it-IT", "jp-JP", "ko-KR", "nl-BE", "nl-NL", "no-NO", "pl-PL",
    "pt-BR", "pt-PT", "ro-RO", "ru-RU", "sk-SK", "sv-SE", "ta-IN", "ta-LK",
    "th-TH", "tr-TR", "zh-CN", "zh-HK", "zh-TW"
  ]

  # TODO: incomplete types

  custom-element-name: &custom-element-name
    type: string

  mime-string: &mime-string
    type: string

  mime-string-no-params: &mime-string-no-params
    type: string

  browsing-context-name-or-keyword: &browsing-context-name-or-keyword
    type: string

  serialized-permission-policy: &serialized-permission-policy
    type: string

  url: &url
    type: string

  non-empty-url: &non-empty-url
    type: string

  potential-destination: &potential-destination
    type: string

  script-like-destination: &script-like-destination
    type: string

  css-declarations: &css-declarations
    type: string

  css-color: &css-color
    type: string

mixin-attributes:
  attr-refferer-policy: &attr-refferer-policy
    description: Referrer policy for fetches initiated by the element
    values: [
      "", "no-referrer", "no-referrer-when-downgrade", "same-origin", "origin",
      "strict-origin", "origin-when-cross-origin",
      "strict-origin-when-cross-origin", "unsafe-url"
    ]

  attr-alt: &attr-alt
    description: Replacement text for use when images are not available
    values: *text

mixin-attribute-groups:
  group-dom-elements: &group-dom-elements
    class:
      description: Automatically focus the element when the page is loaded
      ref: https://html.spec.whatwg.org/multipage/dom.html#classes
      values: *ordered-set-of-unique-space-separated-tokens
    id:
      description: Automatically focus the element when the page is loaded
      ref: https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute
      values: *text
    slot:
      description: Automatically focus the element when the page is loaded
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-slot
      values: *text

  group-global-attributes: &group-global-attributes
    << : *group-dom-elements
    accesskey:
      description: Keyboard shortcut to activate or focus element
      ref: https://html.spec.whatwg.org/multipage/interaction.html#the-accesskey-attribute
      values:
        << : *ordered-set-of-unique-space-separated-tokens
        member-values: /^.$/ # A single code point

    autocapitalize:
      description: Recommended autocapitalization behavior (for supported input methods)
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-autocapitalize
      values: ["on", "off", "none", "sentences", "words", "characters"]

    autofocus:
      description: Automatically focus the element when the page is loaded
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-fe-autofocus
      values: *boolean

    contenteditable:
      description: Whether the element is editable
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable
      values: ["", "true", "false"]

    dir:
      description: The text directionality of the element
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-dir
      values: [ltr, rtl, auto]

    draggable:
      description: Whether the element is draggable
      ref: https://html.spec.whatwg.org/multipage/dnd.html#attr-draggable
      values: ["true", "false"]

    enterkeyhint:
      description: Hint for selecting an enter key action
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-enterkeyhint
      values: [	enter, done, go, next, previous, search, send]

    hidden:
      description: Whether the element is relevant
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-hidden
      values: ["", until-found, hidden]

    inert:
      description: Whether the element is inert.
      ref: https://html.spec.whatwg.org/multipage/interaction.html#the-inert-attribute
      values: *boolean

    inputmode:
      description: Hint for selecting an input modality
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-inputmode
      values: [none, text. tel, url, email, numeric, decimal, search]

    is:
      description: Creates a customized built-in element
      ref: https://html.spec.whatwg.org/multipage/custom-elements.html#attr-is
      values: *custom-element-name

    itemid:
      description: Global identifier for a microdata item
      ref: https://html.spec.whatwg.org/multipage/microdata.html#attr-itemid
      values: *url

    itemprop:
      description: Property names of a microdata item
      ref: https://html.spec.whatwg.org/multipage/microdata.html#names:-the-itemprop-attribute
      values: *unordered-set-of-unique-space-separated-tokens

    itemref:
      description: Referenced elements
      ref: https://html.spec.whatwg.org/multipage/microdata.html#attr-itemref
      values: *unordered-set-of-unique-space-separated-tokens

    itemscope:
      description: Introduces a microdata item
      ref: https://html.spec.whatwg.org/multipage/microdata.html#attr-itemscope
      values: *boolean

    itemtype:
      description: Item types of a microdata item
      ref: https://html.spec.whatwg.org/multipage/microdata.html#attr-itemtype
      values: *unordered-set-of-unique-space-separated-tokens

    lang:
      description: Language of the element
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-lang
      values: ["", *BCP47-language-tag]

    nonce:
      description: Cryptographic nonce used in Content Security Policy checks [CSP]
      ref: https://html.spec.whatwg.org/multipage/urls-and-fetching.html#attr-nonce
      values: *text

    spellcheck:
      description: Whether the element is to have its spelling and grammar checked
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-spellcheck
      values: ["", "true", "false"]

    style:
      description: Presentational and formatting instructions
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-style
      values: *css-declarations

    tabindex:
      description: Whether the element is focusable and sequentially focusable, and the relative order of the element for the purposes of sequential focus navigation
      ref: https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex
      values: *integer

    title:
      description: Advisory information for the element
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-title
      values: *text

    translate:
      description: Whether the element is to be translated when the page is localized
      ref: https://html.spec.whatwg.org/multipage/dom.html#attr-translate
      values: ["", "yes", "no"]

  group-resource-ref: &group-resource-ref
    hreflang:
      description: "Language of the linked resource"
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-hreflang
      value: *BCP47-language-tag

    type:
      description: Hint for the type of the referenced resource
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-type
      value: *mime-string

  group-hyperlink: &group-hyperlink
    href:
      description: Address of the hyperlink
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href
      values: *url

    target:
      description: Browsing context for hyperlink navigation
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-target
      values: *browsing-context-name-or-keyword

    download:
      description: Whether to download the resource instead of navigating to it, and its filename if so
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-download
      values: *text

    ping:
      description: URLs to ping
      ref: https://html.spec.whatwg.org/multipage/links.html#ping
      values:
        << : *set-of-space-separated-tokens
        values: non-empty-url

    rel:
      description: Relationship between the location in the document containing the hyperlink and the destination resource
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-rel
      values: *unordered-set-of-unique-space-separated-tokens

    refferer-policy:
      << : *attr-refferer-policy
      ref: https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-referrerpolicy

elements:
  a:
    description: Hyperlink
    ref: https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element
    attributes:
      << : *group-global-attributes
      << : *group-hyperlink
      << : *group-resource-ref

  abbr:
    description: Abbreviation
    ref: https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element
    attributes:
      << : *group-global-attributes

  address:
    description: Contact information for a page or article element
    ref: https://html.spec.whatwg.org/multipage/sections.html#the-address-element
    attributes:
      << : *group-global-attributes

  area:
    description: Hyperlink or dead area on an image map
    ref: https://html.spec.whatwg.org/multipage/image-maps.html#the-area-element
    attributes:
      << : *group-global-attributes
      << : *group-hyperlink
      alt:
        << : *attr-alt
        ref: https://html.spec.whatwg.org/multipage/image-maps.html#attr-area-alt
      coords:
        description: Coordinates for the shape to be created in an image map
        ref: https://html.spec.whatwg.org/multipage/image-maps.html#attr-area-coords
        values: *list-of-floating-point-numbers
      shape:
        description: The kind of shape to be created in an image map
        ref: https://html.spec.whatwg.org/multipage/image-maps.html#attr-area-shape
        values: [circle, default, poly, rect]

  article:
    description: Self-contained syndicatable or reusable composition
    ref: https://html.spec.whatwg.org/multipage/sections.html#the-article-element
    attributes:
      << : *group-global-attributes

  aside:
    description: Sidebar for tangentially related content
    ref: https://html.spec.whatwg.org/multipage/sections.html#the-aside-element
    attributes:
      << : *group-global-attributes

  group-media-player: &group-media-player
    preload:
      description: Hints how much buffering the media resource will likely need
      ref: https://html.spec.whatwg.org/multipage/media.html#attr-media-preload
      values: ["none", "metadata", "auto"]
    autoplay:
      description: Automatically focus the element when the page is loaded
      ref: https://html.spec.whatwg.org/multipage/media.html#attr-media-autoplay
      values: *boolean
    loop:
      description: Whether to loop the media resource
      ref: https://html.spec.whatwg.org/multipage/media.html#attr-media-autoplay
      values: *boolean
    muted:
      description: Whether to mute the media resource by default
      ref: https://html.spec.whatwg.org/multipage/media.html#attr-media-autoplay
      values: *boolean
    controls:
      description: Show user agent controls
      ref: https://html.spec.whatwg.org/multipage/media.html#attr-media-autoplay
      values: *boolean

  audio:
    description: Audio player
    ref: https://html.spec.whatwg.org/multipage/media.html#the-audio-element
    attributes:
      << : *group-global-attributes
      << : *group-media-player

      src: {}
      crossorigin: {}

  b:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  base:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  bdi:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  bdo:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  blockquote:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  body:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  br:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  button:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      disabled: {}
      form: {}
      formaction: {}
      formenctype: {}
      formmethod: {}
      formnovalidate: {}
      formtarget: {}
      name: {}
      type: {}
      value: {}

  canvas:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      width: {}
      height: {}

  caption:
    description: Table caption
    ref: https://html.spec.whatwg.org/multipage/tables.html#the-caption-element
    attributes:
      << : *group-global-attributes

  cite:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  code:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  col:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  colgroup:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  data:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  datalist:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  dd:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  del:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  details:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  dfn:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  dialog:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  div:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  dl:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  dt:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  em:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  embed:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  fieldset:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  figcaption:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  figure:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  footer:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  form:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      accept-charset: {}
      action: {}
      autocomplete: {}
      enctype: {}
      method: {}
      name: {}
      novalidate: {}
      rel: {}
      target: {}

  h1:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  h2:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  h3:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  h4:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  h5:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  h6:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  head:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  header:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  hgroup:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  hr:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  html:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  i:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  iframe:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      src: {}
      srcdoc: {}
      name: {}
      sandbox: {}
      allow: {}
      allowfullscreen: {}
      width: {}
      height: {}
      referrerpolicy: {}
      loading: {}

  img:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      alt: {}
      src: {}
      srcset: {}
      sizes: {}
      crossorigin: {}
      usemap: {}
      ismap: {}
      width: {}
      height: {}
      referrerpolicy: {}
      decoding: {}
      loading: {}

  input:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      accept: {}
      alt: {}
      autocomplete: {}
      checked: {}
      dirname: {}
      disabled: {}
      form: {}
      formaction: {}
      formenctype: {}
      formmethod: {}
      formnovalidate: {}
      formtarget: {}
      height: {}
      list: {}
      max: {}
      maxlength: {}
      min: {}

  ins:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  kbd:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  label:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  legend:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  li:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  link:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      href: {}
      crossorigin: {}
      rel: {}
      as: {}
      media: {}
      hreflang: {}
      type: {}
      sizes: {}
      imagesrcset: {}
      imagesizes: {}
      referrerpolicy: {}
      integrity: {}
      blocking: {}
      color: {}
      disabled: {}

  main:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  map:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  mark:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  menu:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  meta:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      name: {}
      http-equiv: {}
      content: {}
      charset: {}
      media: {}

  meter:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  nav:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  noscript:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  object:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      data: {}
      type: {}
      name: {}
      form: {}
      width: {}
      height: {}

  ol:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  optgroup:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  option:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  output:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  p:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  picture:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  pre:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  progress:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  q:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  rp:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  rt:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  ruby:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  s:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  samp:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  script:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      src: {}
      type: {}
      async: {}
      defer: {}
      crossorigin: {}
      integrity: {}
      referrerpolicy: {}
      blocking: {}

  section:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  select:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      autocomplete: {}
      disabled: {}
      form: {}
      multiple: {}
      name: {}
      required: {}
      size: {}

  slot:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  small:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  source:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      src: {}
      type: {}
      srcset: {}
      sizes: {}
      media: {}
      width: {}
      height: {}

  span:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  strong:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  style:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  sub:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  summary:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  sup:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  table:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  tbody:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  td:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  template:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  textarea:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

      cols: {}
      dirname: {}
      disabled: {}
      form: {}
      maxlength: {}
      minlength: {}
      name: {}
      placeholder: {}
      readonly: {}
      required: {}
      rows: {}
      wrap: {}

  tfoot:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  th:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  thead:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  time:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  title:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  tr:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  track:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  u:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  ul:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  var:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes

  video:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes
      << : *group-media-player

      src: {}
      crossorigin: {}
      poster: {}
      playsinline: {}
      width: {}
      height: {}

  wbr:
    description: ""
    ref: ""
    attributes:
      << : *group-global-attributes